<h1 class="h4 titulo">Cadastro de veículo</h1>


<label for="inputMarca" class=" sr-only">Marca</label>
<input type="text" id="inputMarca"
       name="marca"
       maxlength="20"
       placeholder="Marca do Veiculo"
       class=" form-control mb-2 col-md-4"
       #marca="ngModel"
       [(ngModel)]="veiculo.marca"
       [ngClass]="{
            'is-invalid': marca.invalid && (marca.dirty || marca.touched) ,
            'is-valid': marca.valid && (marca.dirty || marca.touched)
           }"
       required />

<div class="invalid-feedback mb-2" *ngIf="marca.invalid && (marca.dirty || marca.touched)">
  <div *ngIf="marca.errors.required">
    Marca do veículo é de preenchimento obrigatório !
  </div>
</div>

<label for="inputModelo" class=" sr-only">Modelo</label>
<input type="text" id="inputModelo"
       name="modelo"
       maxlength="20"
       placeholder="Modelo do Veiculo"
       class=" form-control mb-2 col-md-4"
       #modelo="ngModel"
       [(ngModel)]="veiculo.modelo"
       [ngClass]="{
            'is-invalid': modelo.invalid && (modelo.dirty || modelo.touched) ,
            'is-valid': modelo.valid && (modelo.dirty || modelo.touched)
           }"
       required />
<div class="invalid-feedback mb-2" *ngIf="modelo.invalid && (modelo.dirty || modelo.touched)">
  <div *ngIf="modelo.errors.required">
    Modelo do veículo é de preenchimento obrigatório !
  </div>
</div>


<label for="inputAno" class=" sr-only">Ano</label>
<input type="number" id="inputAno"
       name="ano"
       maxlength="4"
       placeholder="Ano do Veiculo"
       class=" form-control mb-2 col-md-4"
       #ano="ngModel"
       [(ngModel)]="veiculo.ano"
       [ngClass]="{
            'is-invalid': ano.invalid && (ano.dirty || ano.touched) ,
            'is-valid': ano.valid && (ano.dirty || ano.touched)
           }"
       required />

<div class="invalid-feedback mb-2" *ngIf="ano.invalid && (ano.dirty || ano.touched)">
  <div *ngIf="ano.errors.required">
    Ano do veículo é de preenchimento obrigatório !
  </div>
</div>




<label for="inputPlaca" class="sr-only">Placa</label>

<input type="text" id="inputPlaca"
       name="placaVeiculo"
       maxlength="8"
       placeholder="Placa do veículo"
       class="form-control mb-2 col-md-4"
       [ngClass]="{
            'is-invalid': placa.invalid && (placa.dirty || placa.touched) ,
            'is-valid':placa.valid && (placa.dirty || placa.touched)
           }"
       [(ngModel)]="veiculo.placa"
       #placa="ngModel"
       required />

<div class="invalid-feedback mb-2" *ngIf="placa.invalid && (placa.dirty || placa.touched)">
  <div *ngIf="placa.errors.required">
    Placa do veículo é de preenchimento obrigatório !
  </div>
</div>

<label for="inputChassi" class=" sr-only">Chassi</label>
<input type="text" id=" inputChassi"
       name="chassi"
       maxlength="20"
       placeholder="Chassi do Veiculo"
       class=" form-control mb-2 col-md-4"
       #chassi="ngModel"
       [(ngModel)]="veiculo.codChassi"
       [ngClass]="{
            'is-invalid': chassi.invalid && (chassi.dirty || chassi.touched) ,
            'is-valid':chassi.valid && (chassi.dirty || chassi.touched)
           }"
       required />

<div class="invalid-feedback mb-2" *ngIf="chassi.invalid && (chassi.dirty || chassi.touched)">
  <div *ngIf="chassi.errors.required">
    Chassi do veículo é de preenchimento obrigatório !
  </div>
</div>

<label for="inputRenavan" class=" sr-only">Renavan</label>
<input type="text" id="inputRenavan"
       name="renavan"
       maxlength="12"
       placeholder="Renavan do Veiculo"
       class=" form-control mb-2 col-md-4"
       #renavan="ngModel"
       [(ngModel)]="veiculo.codRenavan"
       [ngClass]="{
            'is-invalid': renavan.invalid && (renavan.dirty || renavan.touched) ,
            'is-valid':renavan.valid && (renavan.dirty || renavan.touched)
           }"
       required />

<div class="invalid-feedback mb-2" *ngIf="renavan.invalid && (renavan.dirty || renavan.touched)">
  <div *ngIf="renavan.errors.required">
    Renavan do veículo é de preenchimento obrigatório !
  </div>
</div>




<div class="input-group mb-2">
  <div class="custom-file col-md-4">

    <input type="file" class="custom-file-input" id="inputfile" (change)="inputChange($event.target.files)" />
    <label for="inputfile" class="custom-file-label">Escolha uma foto do veículo</label>

  </div>
</div>

<div class="from-inline">
  <!-- form-inline garante que todos os inputs de dados ficarão exibidos em linha-->
  <button class="btn btn-primary" type="submit" style="margin-right:4px;" (click)="cadastrar()" [disabled]="ativar_spinner">
    <span class="spinner-border spinner-border-sm" *ngIf="ativar_spinner"></span>
    Cadastrar
  </button>
  <button class="btn btn-secondary" [routerLink]="['/pesquisar-veiculo']">Cancelar</button>
</div>

<div class="alert alert-danger col-md-4" *ngIf="mensagem">
  {{mensagem}}

</div>



